# PHP

## Что такое PHP?

PHP - распространенный язык программирования с открытым исходным кодом, часто используется для web разработок.

Скрипт PHP содержит HTML с встроенным кодом, сам код PHP определяется начальным тегом `<?php` и конечным тегом `?>`

```php
<!DOCTYPE html>
<html>
	<head>
		<title>Пример</title>
	</head>
	<body>
    <?php
    echo "Данная строка выводится с помощью PHP";
    ?>
	</body>
</html>
```
- Пример кода PHP

Главное отличие PHP от JavaScript в том, что PHP-скрипты выполняются на сервере и генерируют HTML, который посылается клиенту. Если бы у вас на сервере был размещён скрипт, подобный вышеприведённому, клиент получил бы только результат его выполнения, но не смог бы выяснить, какой именно код его произвёл. Вы даже можете настроить свой сервер таким образом, чтобы обычные HTML-файлы обрабатывались процессором PHP, так что клиенты даже не смогут узнать, получают ли они обычный HTML-файл или результат выполнения скрипта.

## Для чего используют PHP?

1. **Создание скриптов для выполнения на стороне сервера.** PHP традиционно и наиболее широко используется именно таким образом. Для этого вам будут необходимы три вещи. Интерпретатор PHP (в виде программы CGI или серверного модуля), веб-сервер и браузер. Для того чтобы можно было просматривать результаты выполнения PHP-скриптов в браузере, нужен работающий веб-сервер и установленный PHP. Просмотреть вывод PHP-программы можно в браузере, получив PHP-страницу, сгенерированную сервером. В случае, если вы просто экспериментируете, вы вполне можете использовать свой домашний компьютер вместо сервера.
2. **Создание скриптов для выполнения в командной строке.** Вы можете создать PHP-скрипт, способный запускаться без сервера или браузера. Все, что вам потребуется - парсер PHP. Такой способ использования PHP идеально подходит для скриптов, которые должны выполняться регулярно, например, с помощью cron (на платформах *nix или Linux) или с помощью планировщика задач (Task Scheduler) на платформах Windows. Эти скрипты также могут быть использованы в задачах простой обработки текстов.
3. **Создание оконных приложений, выполняющихся на стороне клиента.** Возможно, PHP является не самым лучшим языком для создания подобных приложений, но, если вы очень хорошо знаете PHP и хотели бы использовать некоторые его возможности в своих клиентских приложениях, вы можете использовать PHP-GTK для создания таких приложений. Подобным образом вы можете создавать и кросс-платформенные приложения. PHP-GTK является модулем PHP и не поставляется вместе с основным дистрибутивом PHP.

Использование PHP не ограничивается выводом HTML. Возможности PHP включают вывод файлов различных типов, таких как изображения или PDF-файлы, шифрование данных и отправку электронной почты. Вы также можете легко выводить любой текст, например JSON или XML. PHP может автоматически генерировать эти файлы и сохранять их в файловой системе вместо вывода на печать, формируя серверный кеш для динамического содержимого.

PHP также поддерживает взаимодействие с другими сервисами через такие протоколы, как LDAP, IMAP, SNMP, NNTP, POP3, HTTP, COM (на платформах Windows) и многих других. Кроме того, вы получаете возможность работать с сетевыми сокетами напрямую. PHP поддерживает стандарт обмена сложными структурами данных WDDX практически между всеми языками веб-программирования. Обращая внимание на взаимодействие между различными языками, следует упомянуть о поддержке объектов Java и возможности их использования в качестве объектов PHP.

## Cинтаксис PHP

### Теги

Когда PHP обрабатывает файл, он ищет открывающие и закрывающие теги, такие как `<?php` и `?>`, которые указывают PHP, когда начинать и заканчивать обработку кода между ними. Подобный способ обработки позволяет PHP внедряться во все виды различных документов, так как всё, что находится вне пары открывающих и закрывающих тегов, будет проигнорировано парсером PHP.

PHP включает в себя короткий echo-тег `<?=`, который является сокращением для более многословного `<?php echo`.

```php
<?php echo 'php ищет в файле данные теги'; ?>
```

2. Следует заметить, что

```php
<?= 'Тут наша строка' ?>
```

эквивалентен такому коду

```php
<?php echo 'тут наша строка' ?>
```

### Типы выражений в PHP

- null - это единичный тип PHP, то есть он имеет только одно значение: null. Неопределённые и удалённые языковой конструкцией unset() переменные преобразуются в значение null
- bool - истинность значения. Он может быть либо true, либо false
- int - это число из множества ℤ = {..., -2, -1, 0, 1, 2, ...}
- float - Числа с плавающей точкой или числа с плавающей запятой
- string - Строка
- array - Массив
- resource - переменная, содержащая ссылку на внешний ресурс

### Переменные

Переменные в PHP представлены знаком доллара с последующим именем переменной. Имя переменной чувствительно к регистру.

Правильное имя переменной должно начинаться с буквы или символа подчёркивания и состоять из букв, цифр и символов подчёркивания в любом количестве.

```php
$3hi = ‘не верное обозначение, начинается с цифры’
```

```php
$_hi = ‘Верно, начинается с подчеркивания’
```

### Область видимости переменной

Область видимости переменной - это контекст, в котором эта переменная определена. В большинстве случаев все переменные PHP имеют только одну область видимости. Эта единая область видимости охватывает также включаемые (include) и требуемые (require) файлы.

Определение (тело) пользовательской функции задаёт локальную область видимости данной функции. Любая используемая внутри функции переменная по умолчанию ограничена локальной областью видимости функции. Например:

```php
<?php
$a = 1; /* глобальная область видимости *
/function test()
	{
	echo $a; /* ссылка на переменную в локальной области видимости */
	}
test();
?>
```

Этот скрипт выдаст диагностику неопределённой переменной E_WARNING (или E_NOTICE до версии PHP 8.0.0). Однако если в настройках INI display_errors установлено скрытие такой диагностики, то ничего выводиться не будет. Это связано с тем, что оператор echo указывает на локальную версию переменной $a, а в пределах этой области видимости ей не было присвоено значение. Возможно вы заметили, что это немного отличается от языка C в том, что глобальные переменные в C автоматически доступны функциям, если только они не были перезаписаны локальным определением. Это может вызвать некоторые проблемы, поскольку люди могут нечаянно изменить глобальную переменную. В PHP, если глобальная переменная будет использоваться внутри функции, она должна быть объявлена глобальной внутри определения функции.
