# 1 Что такое DevOps

DevOps - это методология совместной работы разработчиков, тестировщиков и других специалистов в команде IT-отдела. Она направлена на повышение эффективности работы команды, своевременное исправление ошибок и грамотное взаимодействие между участниками процесса. DevOps-инженер, представляет собой специалиста, работающего в соответствии с этой методологией.

DevOps можно описывать как идеологию, подход или набор методов. В простых словах, это и процессы, и специальные технические решения, которые обеспечивают создание единой среды для работы команды. Основная цель методологии - улучшить взаимодействие между разными специалистами IT-отдела.

Название DevOps происходит от сокращений "dev" - development (разработка) и "ops" - operations (поддержка). Ранее разработка и поддержка были двумя отдельными сферами. Идея DevOps заключается в том, чтобы сблизить эти сферы и установить эффективное взаимодействие между ними.

До появления DevOps разработчики, тестировщики и администраторы часто работали изолированно, что приводило к замедлению работы, нарушению процессов и многочисленным ошибкам, которые оставались незамеченными. Обновления программ выпускались лишь раз в несколько лет, и к моменту их появления многое уже было устаревшим. Такой подход к работе был неэффективным. Поэтому возникла гибкая методология Agile, основанная на непрерывной разработке маленькими итерациями. Именно из этой методологии выросла идея DevOps.

![](/materials/images/devops/devops_whatis_devops.png)

## Практики DevOps

Чтобы понимать, что такое DevOps, нужно иметь представление о его конкретных практиках. 

Основных всего пять:

- непрерывная интеграция, поставка и развертывание, или CI/CD;
- непрерывное тестирование;
- непрерывный мониторинг;
- микросервисы;
- инфраструктура как код, или IaC.

## IaC

Модель "инфраструктура как код (IaC)", иногда называемая "программируемой инфраструктурой", отражает подход, при котором настройка инфраструктуры осуществляется аналогично процессу программирования. Это подход, который по сути размывает границы между разработкой приложений и созданием окружения для этих приложений. Приложения могут содержать собственные скрипты, которые создают и управляют виртуальными машинами. Именно этот подход лежит в основе облачных вычислений и является неотъемлемой частью DevOps.

Популярность модели обусловлена двумя факторами:

- Вследствие растущей сложности облачной архитектуры работа вручную отнимает слишком много времени (не говоря о количестве ошибок);
- ручные изменения необходимо повторять по несколько раз, что ведет к неэффективному использованию финансов и времени команды инженеров.

"Инфраструктура как код" позволяет управлять виртуальными машинами на программном уровне, исключая необходимость ручной настройки и обновлений компонентов оборудования. Благодаря этому инфраструктура становится крайне "эластичной", то есть масштабируемой и воспроизводимой. Один и тот же набор кода может быть использован для развертывания и управления как одной, так и тысячами виртуальных машин. Преимуществами подхода "инфраструктура как код" являются скорость, экономичность и уменьшение рисков.

Одно из решений, которое необходимо принять перед применением IaC, — выбор подхода для автоматизации изменений окружения: императивный или декларативный. Чаще всего применяется декларативный подход. Главное отличие между ними заключается в том, что при императивном подходе программа указывает, как выполнить задачу, а при декларативном просто указывается конечная цель.

Для автоматического внесения изменений в инфраструктуру при императивном подходе можно использовать интерфейс командной строки (CLI). В соответствии с заданным скриптом изменения будут последовательно применяться к контейнерам, виртуальным машинам и виртуальным частным облакам. Этот подход позволяет подробно описать требуемые изменения, но если понадобится изменить конфигурацию после доставки на множество машин, придется вносить изменения в скрипт.

При декларативном подходе для автоматического внесения изменений указывается только конечная цель. Например, вместо перечисления всех шагов для создания конфигурации виртуальной машины через интерфейс командной строки, просто запрашивается создание виртуальной машины в определенном домене. Задача будет автоматически выполнена. Декларативный подход позволяет просто указать, что именно должно быть выполнено с помощью средств автоматизации.

## DaC

«Обнаружение как код» (DaC) - это концепция, которая расширяет принципы инфраструктуры как кода (IaC) и практики DevOps на область безопасности и обнаружения угроз. Он включает в себя автоматизацию настройки, развертывания и управления инструментами обнаружения и мониторинга безопасности, а также наборами правил с использованием кода и инструментов автоматизации.

Вот ключевые компоненты и идеи, связанные с «Обнаружение как код»:

1. **Автоматизация** . Точно так же, как «Инфраструктура как код» автоматизирует предоставление ресурсов инфраструктуры, «Обнаружение как код» автоматизирует развертывание и управление инструментами мониторинга и обнаружения безопасности. Это может включать настройку систем обнаружения вторжений (IDS), систем предотвращения вторжений (IPS), решений для управления журналами, платформ SIEM (управление информацией о безопасности и событиями) и т. д.
2. **Код** : конфигурации безопасности и наборы правил определяются в коде (обычно с использованием декларативных языков или сценариев). Этот код может контролироваться версиями, проверяться и тестироваться точно так же, как код приложения или код инфраструктуры. Это позволяет группам безопасности определять правила обнаружения, пороговые значения оповещений и ответы структурированным и воспроизводимым образом.
3. **Интеграция** : DaC интегрируется с существующими конвейерами и рабочими процессами DevOps. Это означает, что конфигурации безопасности и правила мониторинга могут быть легко интегрированы в процессы разработки и развертывания программного обеспечения. Безопасность становится неотъемлемой частью жизненного цикла разработки, а не отдельным этапом.
4. **Непрерывный мониторинг** : DaC продвигает идею непрерывного мониторинга и обнаружения угроз в реальном времени. Это гарантирует, что правила безопасности последовательно применяются и контролируются по мере развития инфраструктуры и приложений.
5. **Масштабируемость** : автоматизация позволяет легко масштабировать возможности мониторинга безопасности по мере роста инфраструктуры. По мере выделения новых ресурсов автоматически применяются необходимые конфигурации безопасности.
6. **Соответствие требованиям и аудит** . DaC может помочь в обеспечении соответствия, гарантируя, что политики и конфигурации безопасности последовательно применяются во всей среде. Он также предоставляет журналы аудита и документацию по конфигурациям и изменениям безопасности.
7. **Устойчивость** . Автоматизируя обнаружение нарушений безопасности и реагирование на них, организации могут быстрее и эффективнее реагировать на инциденты безопасности, снижая потенциальное воздействие нарушений.
