# Контейнеризация

## Что такое контейнеризация?

Контейнеризация - это метод виртуализации, при котором единое «пользовательское пространство» в ядре операционной системы разделяется на несколько независимых логических разделов. Один экземпляр такого раздела называется контейнером. В каждом контейнере можно запускать одно приложение, изолированное от остальной системы.

Такие технологии, как Docker, Docker Compose и Linux Containers, делают этот процесс возможным в системах Linux. Эти технологии позволяют пользователям быстро, безопасно и эффективно создавать, развертывать приложения и управлять ими. С помощью этих инструментов можно настраивать приложения различными способами, что позволяет адаптировать приложение к потребностям. Кроме того, контейнеры невероятно легкие, идеально подходят для одновременного запуска нескольких приложений и обеспечивают масштабируемость и переносимость. Контейнеры изолированы от хост-системы и других контейнеров.

## Преимущества контейнеров

**Портативность**: Контейнеры могут быть легко перенесены между различными средами, такими как локальный компьютер, облачные платформы или виртуальные машины, без изменения кода или настроек.

**Изолированность:** Каждый контейнер запускается в своей собственной изолированной среде, что предотвращает конфликты между приложениями и обеспечивает безопасность. Настройки и зависимости, противоречащие конфигурации основной ОС, не повлияют на работу приложения в контейнере.

**Независимость**: Контейнеры не зависят друг от друга. В случае поломки в контейнере А это не повлияет на работу контейнера Б. Однако независимость не мешает им передавать данные друг другу.

**Масштабируемость:** Контейнеры легко масштабируются вверх (повышение производительности на одном сервере) и вниз (увеличение или уменьшение количества контейнеров) в зависимости от нагрузки. Такой подход дает возможность быстро адаптироваться к текущему уровню пользовательского трафика.

**Гибкость и скорость развертывания:** Это дает возможность разбить монолитную структуру предприятия и набор гибких микросервисов в контейнерах, что позволяет быстро развертывать и обновлять приложения, сокращая время, необходимое для установки и настройки.

**Стандартизация:** Контейнеры способствуют стандартизации окружений разработки и развертывания, что упрощает управление приложениями и уменьшает вероятность ошибок.

**Эффективное использование ресурсов:** Использование контейнеров позволяет сэкономить ресурсы за счет общего ядра операционной системы, в отличие от традиционных виртуальных машин.

**Легковесность**: Контейнеры имеют простую структуру, которая потребляет только те ресурсы, которые необходимы для работы приложения внутри них.

## Чем контейнеризация отличается от виртуализации?

![[container_vs_vm.png]]

Контейнеры и виртуальные машины (ВМ) - это методы изоляции приложений и окружений. Docker использует виртуализацию на уровне операционной системы, позволяя запускать приложения в изолированных контейнерах, которые делят ядро ОС с хост-системой. ВМ, напротив, создают полные виртуальные компьютеры с отдельными ОС и ресурсами.

Это означает, что Docker-контейнеры более легкие, потому что они не требуют дублирования всей ОС, как ВМ. Контейнеры также быстрее запускаются и имеют меньший объем, что делает их более эффективными в ресурсоемких средах. Однако ВМ предоставляют большую изоляцию, так как каждая ВМ имеет свою собственную ОС и не зависит от хост-системы.

Таким образом, Docker контейнеры предоставляют легковесное и быстрое решение для изоляции приложений, в то время как виртуальные машины обеспечивают более глубокую изоляцию за счет полной виртуализации.

Docker и виртуальные машины не всегда хорошо сочетаются вместе. Иногда в практике используется подход, при котором сервер разделяется на виртуальные машины, на которых запускаются контейнеры. Однако такая двойная виртуализация приводит к лишнему расходу ресурсов. Если в организации установилась такая практика, то вместо гипервизора можно использовать Kubernetes, который будет устанавливать приложения непосредственно на физическое оборудование.

Обычно крупные компании работают с виртуальными машинами, развернутыми на физическом оборудовании в центрах обработки данных. Инженеры инфраструктуры создают виртуальные компьютеры и настраивают на них инфраструктуру. Используя оркестраторы, можно избавиться от этого дополнительного уровня.

Если у вас есть избыток ресурсов, то можно установить Docker на виртуальную машину, чтобы обеспечить изоляцию между приложениями.

## Для чего используют контейнеры?

Контейнеры решают критически важную проблему переносимости кода. Они устраняют потенциальные конфликты между вашей локальной средой разработки и рабочей средой приложения.

Упаковка в контейнеры позволяет отделить код от базовой инфраструктуры, в которой он выполняется. В рабочей среде этот контейнер может быть запущен на любом компьютере, имеющем платформу контейнеризации. В продакшене код будет работать так же хорошо, как и на машине программиста.
