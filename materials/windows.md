# Windows




- Windows server
- Active directory (AD)
    - Принцип работы
    - Структура домена
    - Сущности домена
    - Роли Windows Server для работы с AD
    - Конфигурация домена
    - Обьекты домена (Виды доменных обьектов, права безопасности обьектов в домене)
- Windows administration:
    - Пользователи и права (Гость, пользователь, администратор, система)
    - Файловая система (Типы файлов и расширения)
    - Процессы Windows (Дерево, права, порождение других процессов, открытие соединений, создание файлов)
    - Службы, сервисы, запланированные задачи
    - Реестр Windows
    - Powershell
- Authorization, Authentication, Accounting (AAA)
    - Типы входов (logon_type)
    - Протоколы аутентифкации (Kerberos, LM, NTLM)
- Средства мониторинга Windows
- Инфраструктурные сервисы в домене
    - Windows DNS
    - Windows DHCP
    - Group Policy
    - RDG
- Обмен данными в домене
- Основные протоколы в Windows-инфраструктуре
    - SMB, RDP, WMI



**Домен** - логическая структура, которая в себе объединяет представления техники или пользователей в виде **объектов**, доступные  для управления системным администратором

**Active Directory** - каталог, который хранит объекты домена.

**Контроллер домена** - конкретный сервер, управляющий доступом к сетевым ресурсам в рамках одного **домена.** Контроллеры домена выполняют функции аутентификации пользователей, поиска в каталоге, т.е. **управляют взаимодействием между пользователем и доменом**.



## Физическая структура домена

![](/materials/images/windows/windows1.png)

Для полноценного функционирования инфраструктуры нужны такие сервера как:
- Контроллер домена (Главный сервер с установленной на нем ОС и ролью домена - ADDS)
- DNS (Система, позволяющая преобразовывать доменные имена в IP адреса и наоборот)
- Глобальный каталог (Помогает быстро получить доступ до поиска информации в самом домене)

Логически доменная структура представляет из себя дерево (лес доменов), в котором основные домены могут порождать поддомены. Основными логическими объектами будут являться:
- Пользователи
- Компьютеры
- Группы
- Контейнеры
- Лес доменов
- Деревья доменов



## Active Directory Domain Services (ADDS)

Сервисы, необходимые для функционирования домена


### Инструменты, для управления доменом

- **AD Users & Computers** - графическая оснастка, которая позволяет редактировать, создавать новые и просматривать объекты в базе данных домена, состоящую из пользователей и устройств
- **AD Domain & trusts** - инструмент для регулирования отношений между доменами (используется в безопасности)
- **AD Sites & Services** - оснастка для разделения доменов на локальные сети и настройки времени синхронизации между ними


### Инфраструктурные части ADDS

- **NTDS** - база данных объектов домена
- **Контроллеры домена** (в том числе доступны только для чтения)
- **Глобальный каталог** - для быстрого поиска по БД домена


### Объекты AD

- **Users**
- **Computers**
- **Groups**
- **Organizational units** (контейнеры, OU)


### Базовые контейнеры AD (папки)

- **Builtin** - содержит различные группы для администрирования
- **Computers** - все новые компьютеры, добавленные в домен
- **Domain controllers** - все контроллеры домена
- **ForeignSecurityPrincipals** - контейнер, в котором хранятся SID пользователей из других доверенных лесов
- **Managed Service Account** - контейнер для хранения специальных сервисных учетных записей
- **Users** - здесь расположены группы администрирования и пользователи


### RSAT

**Remote Server Administration Tools** - средства для **удаленного** администрирования сервера, которые позволяют управлять ролями и компонентами Windows Server с обычной рабочей станции.


### PoSH

**Windows PowerShell** - расширяемое средство автоматизации от Microsoft, с его помощью можно менять настройки, останавливать и запускать сервисы, а так же производить обслуживание приложений. **Windows PowerShell ISE** - среда разработки скриптов для PoSH


### Групповые политики

Основная цель - возможность централизованно управлять пользователями и компьютерами в домене