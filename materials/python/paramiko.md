# PARAMIKO

Paramiko - модуль, который реализовывает протокола SSHv2 на Python. Paramiko предоставляет функциональность клиента и сервера. С его помощью можно написать скрипт, который получит доступ к удаленному серверу (или многим) и что-то на нем сделает. Это удобно, когда необходимо проделать одинаковые действия на большом количестве серверов.

```bash
pip install paramiko
```
- Перед использованием модуля его необходимо установить

Напишем простой скрипт, который будет подключаться к серверу и собирать с него метрики по состоянию оперативной памяти.

```sql
import paramiko

host = '192.168.133.145'
port = '22'
username = 'user'
password = 'strongpassword'

client = paramiko.SSHClient()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
client.connect(hostname=host, username=username, password=password, port=port)
stdin, stdout, stderr = client.exec_command('free -h')
data = stdout.read() + stderr.read()
client.close()
data = str(data).replace('\\\\n', '\\n').replace('\\\\t', '\\t')[2:-1]
print(data)
```

1. Импортируется модуль **`paramiko`**, который предоставляет возможность работы с SSH.
2. Задаются переменные **`host`**, **`port`**, **`username`** и **`password`** для подключения к удаленному серверу. В них содержатся IP-адрес сервера, порт (обычно 22 для SSH), имя пользователя и пароль соответственно.
3. Создается экземпляр класса **`SSHClient`** из библиотеки Paramiko.
4. Устанавливается политика добавления хост-ключей автоматически, чтобы избежать ошибок вроде **`paramiko.ssh_exception.SSHException: Server 'hostname' not found in known_hosts`**.
5. Устанавливается соединение с удаленным сервером, используя заданные параметры.
6. Выполняется команда **`free -h`** на удаленном сервере через SSH.
7. Полученные данные записываются в переменные **`stdin`**, **`stdout`** и **`stderr`**.
8. Содержимое **`stdout`** и **`stderr`** объединяется в переменной **`data`**.
9. Соединение с сервером закрывается.
10. Переменная **`data`** преобразуется в строку и производится замена символов '\n' и '\t' на соответствующие им символы новой строки и табуляции.
11. Выводится содержимое переменной **`data`**
