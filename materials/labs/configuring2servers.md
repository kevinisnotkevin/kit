# LAB: Конфигурирование двух серверов

Создание и конфигурирование двух серверов на базе Linux Debian, обеспечивая их безопасность, производительность и надежность. Этот процесс включает в себя настройку различных аспектов инфраструктуры IT, включая сетевые настройки, безопасность, мониторинг, резервное копирование, обновления и многое другое.

1. Установите операционную систему Debian на оба сервера, следуя официальной инструкции по установке с официального сайта Debian. (если уже есть стенд, то не используем его)
2. Создайте пользователей для доступа к серверам, а затем установите пароли с помощью команды.
3. Сгенерируйте SSH-ключи на локальной машине, затем скопируйте их на серверы.
4. Настройте сетевые настройки на обоих серверах в файле **`/etc/network/interfaces`**, определив IP-адреса, маски подсети и шлюз по умолчанию.
5. Используйте утилиту dd для создания резервной копии диска на обоих серверах, указав в качестве источника и приемника дисков соответственно.
6. Настройте базовые правила брандмауэра на обоих серверах с помощью утилиты iptables.
7. Создайте группу RAID-1 на одном сервере для зеркалирования данных с помощью команды.
8. Создайте группу RAID-5 на втором сервере для обеспечения отказоустойчивости данных с помощью команды.
9. Скопируйте операционную систему на группу RAID на обоих серверах с помощью утилиты dd.
10. Проверьте работу RAID-массивов на каждом сервере.
11. Изучите и установите утилиту NMAP для сканирования сети с помощью менеджера пакетов Debian.
12. Сканируйте сеть для обнаружения активных устройств и открытых портов.
13. Настройте CRON на обоих серверах для запуска периодических задач, таких как резервное копирование.
14. Создайте скрипты Bash для автоматизации рутинных задач на серверах, используя текстовый редактор Vim.
15. Настройте логирование системных событий для отслеживания активности и ошибок в файлах журналов **`/var/log`**.
16. Настройте доступ к серверам по SSH с использованием ключей для повышения безопасности.
17. Настройте мониторинг ресурсов серверов для отслеживания производительности и загрузки установив и настроив мониторинговое ПО, такое как Zabbix или Webmin (можно использовать любой сервис, зависит от вашего желания).
18. Создайте пользователя с ограниченными правами для выполнения определенных задач, используя команду. (определите, какие самостоятельно какие команды сможет исполнять пользователь, а какие ему будут ограничены на выполнение).
19. Настройте резервное копирование данных на внешний носитель.
20. Настройте механизмы защиты от DDoS-атак и вредоносных действий, установив и настроив программное обеспечение для мониторинга и защиты сети.
21. Настройте автоматическое обновление пакетов для обеспечения безопасности серверов с помощью планировщика задач CRON.
22. Настройте автоматическое создание отчетов о состоянии серверов и сети.
23. Создайте резервную копию конфигурационных файлов для восстановления в случае сбоя, копируя файлы конфигурации в другую директорию или на внешний носитель.
24. Отключите неиспользуемые службы и порты для уменьшения поверхности атаки, редактируя файлы конфигурации служб и брандмауэра.
25. Настройте межсетевой экран для дополнительной защиты сети, дополнительно настроив iptables.
26. Настройте механизмы резервного восстановления для быстрого восстановления после сбоев, создав резервные копии данных и конфигурационных файлов, а также разработав процедуры восстановления.
27. Настройте средства регистрации для аудита системных действий и обеспечения соответствия политикам безопасности, настроив сбор и анализ журналов событий с использованием программного обеспечения, такого как syslog-ng или rsyslog.
28. Создайте механизмы реагирования на инциденты (выбор инструментов за вами, можно использовать, то что вы узнали из модуля, возможно и что-то своё) для быстрого реагирования на угрозы безопасности, разработав и реализовав процедуры реагирования на инциденты и механизмы быстрого восстановления после инцидентов.
29. Настройте механизмы шифрования данных для обеспечения конфиденциальности информации домашней директории, установив и настроив программное обеспечение шифрования.
30. Установите и настройте Auditd для отслеживания системных событий, таких как изменения файловых систем, доступ к системным вызовам и аутентификационные события.
31. Создайте пользовательские правила аудита для отслеживания конкретных событий, таких как доступ к важным файлам, изменение системных конфигураций и запуск привилегированных команд.
32. Изучите и проанализируйте журналы аудита для обнаружения потенциальных угроз безопасности, а также для отслеживания действий пользователей и системы.
33. Настройте многофакторную аутентификацию для SSH, включая аутентификацию через ключи SSH и пароль, а также использование дополнительных методов аутентификации, таких как TOTP (Time-Based One-Time Password).
34. Используйте настройки SSH для ограничения доступа к SSH только с определенных IP-адресов или диапазонов IP-адресов.
35. Настройте IPv6 на серверах и сетевых устройствах для поддержки современной сетевой инфраструктуры и обеспечения возможности использования IPv6-сетей.
36. Настройте брандмауэр IPv6 для защиты сети и серверов от нежелательного сетевого трафика и атак.
37. Настройте маршрутизацию IPv6 на серверах для обеспечения правильной передачи IPv6-трафика в сети.
38. Используйте механизмы управления доступом на основе MAC-адресов для ограничения доступа к сетевым ресурсам на уровне сетевого оборудования.
39. Создайте виртуальные локальные сети (VLAN) для сегментации трафика и управления сетевым доступом на уровне коммутаторов и маршрутизаторов.
40. Настройте межсетевые соединения для передачи нескольких VLAN через один сетевой порт, используя VLAN Trunking Protocol (VTP) или 802.1Q.
41. Настройте поддержку IPv6 в VLAN для обеспечения полной функциональности IPv6 в сегментированных сетях.
42. Создайте документацию по настройке и обслуживанию серверов для последующего использования, описав шаги установки и настройки всех необходимых компонентов.