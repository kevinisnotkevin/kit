# Lab 1

1. **Подготовить виртуальный стенд**
	- Установить Windows Server 2016 (EN локализация)
	- Установить Windows Server 2016 (RU локализация)
	- Установить Windows 10 Pro
	- Установить Kali Linux
	- Установить и настроить роутер Mikrotik
	- Поменять имена машин Windows server и Windows 10 Pro
	- Настроить статические адреса машин Windows server
	- Установить на Windows 10 PRO Guest Additions
	- Настроить Mikrotik
		- Настроить IP-адрес для внешнего адаптера сети
		- Настроить IP-адрес для внутреннего адаптера сети
		- Настроить фаервол для того, чтобы инфраструктура могла обращаться к интернету
2. **Active Directory**
	- Установить роли и компоненты на оба Windows Server
	- Повысить роль первого сервера до роли контроллера домена
	- Сконфигурировать второй сервер как второстепенный (резервный) контроллер домена
	- Ввести Win10 в домен
	- Применить скрипт создания пользователей
3. **ААА**
	- Проанализировать память процесса lsass.exe
		- Создать дамп файла
		- Передать дамп на кали
		- С помощью pypycatz получить учетные данные из процесса lsass
4. **Инфраструктурные сервисы в домене**
	- Настроить перенаправление запросов DNS, не относящихся к зоне pt.local, на внешний DNS сервер
	- Сконфигурировать зону обратного просмотра
	- Настроить сервис DHCP
	- Настроить отказоустойчивость DHCP
	- Создать и настроить политику аудита файловой системы
	- Создать и настроить политики защиты от mimikatz
	- Провести настройки политик для SIEM
5. Обмен данными в домене и средства мониторинга Windows
	- Настроить инстанс обмена данными
	- Настроить файловый ресурс с целью журналирования событий удаления объектов
	- Настроить отправку журналов с помощью инструментария windows в соответствии с методическими материалами
	- Настроить сборщик журналов
6. Базовые атаки и компрометация доменной Windows-инфраструктуры
	- Провести анализ базы NTDS
	- Выполнить атаку “Path-the-hash”
	- Реализовать атаки на базовые протоколы Windows
	- Провести эксплуатацию уязвимостей контроллера домена
	- Найти следы эксплуатации уязвимостей