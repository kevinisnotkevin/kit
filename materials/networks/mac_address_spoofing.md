# MAC spoofing

![](materials/images/networks/mac_address_spoofing.png)

MAC-spoofing — атака канального уровня, заключающаяся в том, что на сетевой карте изменяется MAC-адрес, что заставляет коммутатор отправлять на порт, к которому подключен злоумышленник, пакеты, которые до этого он видеть не мог

Аппаратный адрес сетевого адаптера является уникальным идентификатором карты и состоит из кода производителя и производственного номера адаптера. Таким образом, гарантируется уникальность аппаратного адреса в сети. В соответствии с этим, появление узлов с одинаковым аппаратным адресом на разных портах может быть рассмотрено коммутатором как образование кольца, что в некоторых случаях может привести к аварийному завершению работы коммутатора до перезагрузки. Однако большая часть коммутаторов изменяет для атакуемого, адреса номер порта в таблице маршрутизации на номер, с которого пришел последний по времени пакет данных. Т.е. при наличии в сети двух узлов с одинаковым аппаратным адресом, коммутатор будет направлять поток входящих данных на порт, с которого пришел последний исходящий пакет. Соответственно входящий поток данных будет переключаться на последний по времени активный порт и при большом количестве исходящих пакетов с обоих узлов входящий пакет данных будет разорван и разбросан по этим двум узлам. Таким образом, и атакующий и атакуемый узел получат фрагменты входящего потока данных. Однако т.к. протоколом ТСР такая ситуация будет рассмотрена как потеря пакетов в канале, недостающие фрагменты будут запрошены каждым узлом и есть вероятность получения пакетов, переданных конкурирующему узлу. В результате этого скорость передачи данных на атакуемом узле сильно уменьшается, что позволяет обнаружить атаку. Использование атакующим узлом межсетевого экрана позволяет сделать его обнаружение практически невозможным.
